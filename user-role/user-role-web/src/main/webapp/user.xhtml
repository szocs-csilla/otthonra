<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" />
<title>users</title>
</head>
<body>
	<h3>users list</h3>
	<ui:repeat value="#{user.getAllUser()}" var="value">
	 #{value.id}  #{value.username} <br />
	</ui:repeat>
	<br />
	<h3>Create new user</h3>
	<h:form>
	Please input name for the new user!
	<br />
		<h:inputText value="#{newUser}" />
		<br />
		<h:commandButton value="Submit" action="#{user.addUser(newUser)}" />
	</h:form>
	<h3>Update user</h3>
	<h:form>
	Please input the old name for the user! <br />
		<h:inputText value="#{oldName}" />
		<br />
	Please input the new name for the user! <br />
		<h:inputText value="#{newName}" />
		<br />
		<h:commandButton value="Submit"
			action="#{user.modifyUser(oldName, newName)}" />
	</h:form>
	<h3>Delete user</h3>
	<h:form>
	Please input the id of the user! <br />
		<h:inputText value="#{id}" />

		<h:commandButton value="Submit" action="#{user.removeUser(id)}" />
	</h:form>
	<h3>Search for user by name</h3>
	<h:form>
	Please input the name! <br />
		<h:inputText binding="#{name}" />
		<h:commandButton value="Submit"
			action="#{user.getUserByName(name.value)}" />

	</h:form>
	<h:outputText value="#{user.listUser}" />
	<h3>Set user roles</h3>
	<h:form>
	<h:inputText id="setRole" binding="#{setRoleForName}" />
			<h:message for="setRole" />
			<h:selectManyCheckbox id="roles" binding="#{selectedRoles}">
				<f:selectItems value="#{role.getAllRole()}" var="mRole"
					itemLabel="#{mRole.role}" itemValue="#{mRole.id},#{mRole.role}" />
			</h:selectManyCheckbox>
			<h:commandButton value="Set"
				action="#{user.setRole(setRoleForName.value,selectedRoles.value)}" /> 
	</h:form>



</body>
</html>